
<h2 class="title mt-4 text-center">Novo Projeto</h2>

<div class="form-container">
  <%= simple_form_for @project, local: true, html: { class:"form" } do |f| %>
  <%= f.error_notification %>
    <div class="form-inputs">
      <%= f.input :name,
                  label: 'Nome',
                  required: true,
                  input_html: {class: 'input'},
                  label_html: {class: 'label'} %>

      <%= f.input :category, as: :select,
                  label: 'Categoria',
                  collection: Client::CATEGORIES,
                  required: true,
                  input_html: { class: "input" },
                  label_html: { class: "label" },
                  prompt: "Selecione a categoria" %>

      <%= f.input :description, as: :text,
                  label: 'Descrição',
                  required: true,
                  input_html: {class: 'input'},
                  label_html: {class: 'label'} %>

      <%= f.input :client_id, as: :select,
                  label: 'Cliente',
                  collection: Client.all.map { |u| [u.name, u.id] },
                  required: true,
                  input_html: { class: "input" },
                  label_html: { class: "label" },
                  prompt: "Selecione o cliente" %>

        <div class="row">
          <div class="col-sm-6">
            <%= f.simple_fields_for :project_member do |pm| %>
              <%= pm.input :user_id, as: :check_boxes,
                            collection: User.all.map { |u| [u.name, u.id] },
                            label: 'Selecione os membros',
                            required: true,
                            label_html: {class: 'label'}%>
            <% end %>
          </div>
        </div>

      <p class='text-center'>Campos marcados com "*" são obrigatórios.</p>
    </div>

    <div class="form-actions d-flex justify-content-between">
      <%= link_to :back do %>
        <i class="fa-solid fa-reply fs-2 mt-2" style="color: #008100;"></i>
      <% end %>
      <%= f.button :submit, 'Criar Projeto', class: "submit" %>
    </div>
  <% end %>
</div>
